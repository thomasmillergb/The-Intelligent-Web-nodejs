<!DOCTYPE html>
<html>
	<head>
		<title><%= title %></title>
		<link rel='stylesheet' href='/stylesheets/style.css' />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places"></script>
		<script src="/javascript/mapinit.js"></script>
		<script>
			
			var haveTwitterAPITokens = false;
			var haveFourAPITokens = false;

			// Changes the active tab
			function activeTab(id) {
				$("#tab_container > div").css("display", "none");
				$('#' + id).css("display", "block");
				$("html, body").animate({ scrollTop: 0 }, 300);
				window.location.hash = '#' + id;
			}
			
			// Opens child window in order to obtain API keys for Twitter
			function twitterOAuth() {
				// open popup window and pass field id
				window.open('/auth/twitter', 'popuppage', 'width=600,toolbar=1,resizable=1,scrollbars=yes,height=400,top=100,left=100');
			}
			
			// Opens child window in order to obtain API keys for FourSquare
			function fourOAuth() {
				// open popup window and pass field id
				window.open('/auth/foursqaure', 'popuppage', 'width=600,toolbar=1,resizable=1,scrollbars=yes,height=400,top=100,left=100');
			}
			
			
			
			// Not a clue what this does or what it is for
			function getTwitAuth(token, token_secret){

				var twitter_token = token;
				var twitter_token_secret = token_secret;

				var twitTokens = {token: twitter_token ,token_secret:twitter_token_secret};
	
				$.ajax({
                    type: "POST",
                    dataType: 'json',
                    url: "http://127.0.0.1:3000/",
                    data: twitTokens,
                    success: function(){    
                        location.reload();   
                    }
                 });
				

				

				twitter_token = token;
				twitter_token_secret = token_secret;

			}
			
			
			// Gets a user and their tweets
			function getUserAndTweets(username) {
				
				// TODO: Get tweets from AJAX and and them into the form before it opens
				
				toggleUserShow();
			}
			
			// Toggles whether the client is focused on the user panel
			function toggleUserShow() {
				$("#tab_container, #user_container").toggleClass("hide");
				$("html, body").animate({ scrollTop: 0 }, 300);
			}
			
			// Callback function for Twitter child window
			function setTwitterAuth(token, token_secret) {
				localStorage.setItem('twitter_token', token);
				localStorage.setItem('twitter_token_secret', token_secret);
				
				haveTwitterAPITokens = true;
				
				setRestrictions();
			}
			
			// Callback function for FourSquare child window
			function SetFourAuth(token){
				localStorage.setItem('four_token', token);
				
				haveFourAPITokens = true;
				
				setRestrictions();
			}
			
			// Unset the Twitter API tokens
			function forgetTwitterAuth() {
				localStorage.removeItem('twitter_token');
				localStorage.removeItem('twitter_token_secret');
				
				haveTwitterAPITokens = false;
				
				setRestrictions();
			}
			
			// Unset the FourSquare API tokens
			function forgetFourAuth() {
				localStorage.removeItem('four_token');
				
				haveFourAPITokens = false;
				
				setRestrictions();
			}
			
			// Checks to see if we have api tokens on page load
			$(function(){
				
				if (localStorage.getItem("twitter_token") !== null && localStorage.getItem("twitter_token_secret") !== null)
					haveTwitterAPITokens = true;
				else
					haveTwitterAPITokens = false;
				
				if (localStorage.getItem("four_token") !== null)
					haveFourAPITokens = true;
				else
					haveFourAPITokens = false;
				
				setRestrictions();
				
			});
			
			
			// Applies restrictions to forms so that they can not be used if the user has not obtained API tokens
			function setRestrictions() {
				if (haveTwitterAPITokens)
				{
					$("body").removeClass("no_twitter");
					$("body").addClass("twitter");
					$("#twitter_api_button").addClass("check");
				}
				else
				{
					$("body").addClass("no_twitter");
					$("body").removeClass("twitter");
					$("#twitter_api_button").removeClass("check");
				}
					
				if (haveFourAPITokens)
				{
					$("body").removeClass("no_four");
					$("body").addClass("four");
					$("#foursquare_api_button").addClass("check");
				}
				else
				{
					$("body").addClass("no_four");
					$("body").removeClass("four");
					$("#foursquare_api_button").removeClass("check");
				}

			}
			
			// Toggle functon for the loading overlay
			function loadingOverlay(loading) {
				if (loading)
					$("body").addClass("loading");
				else
					$("body").removeClass("loading");
			}
			
			// Intercepts form submits and cancels default action
			$(function(){
				$("form").submit(function(e){
					
					loadingOverlay(true);
					
					e.preventDefault();
				    return false;
				});
			});
			
			// Adds a notification to the screen that will eventually fade and delete
			function addNotification(title, message, duration) {
				
				html = "<div class=\"notification\"><h4>" + title + "</h4>" + message + "</div>";
				
				var notification = $(html).appendTo('#notification_wrapper');
				
				timeout = setTimeout(function(){notification.fadeOut(300, function() { $(this).remove(); });}, duration);
				
				notification.click(function(){clearTimeout(timeout);notification.fadeOut(300, function() { $(this).remove(); });});

			}
			
			
			$(function(){
				$("form").submit(function(e){
					
					loadingOverlay(true);
					
					e.preventDefault();
				    return false;
				});
				
				
				addNotification("tets", "asdadadasd asdas asdas dad a", 5000);
				setTimeout(function(){addNotification("test 2", "asdaasd asd dadasd asdas asdas dad a", 2000);}, 1000);
				setTimeout(function(){addNotification("test 3", "asdaasd asd dadasd asdas asdas dad a", 3000);}, 6000);
				
			});
			
		</script>
	</head>
	<body class="no_twitter no_four">
		<header>
			<%= title %>
		</header>
		<nav>
			<div id="left">
			<div class="title">Search:</div>
			<a href="javascript:void(0)" onmousedown="activeTab('discussion_tab')" class="nav_button">Discussion</a>
			<a href="javascript:void(0)" onmousedown="activeTab('user_dicussion_tab')" class="nav_button">Specific users discussion</a>
			<a href="javascript:void(0)" onmousedown="activeTab('user_venue_tab')" class="nav_button">User venues</a>
			<a href="javascript:void(0)" onmousedown="activeTab('venue_tab')" class="nav_button">Venue</a>
			</div>
			<div id="right">
				<div class="title">Log in to API:</div>
				<div id="twitter_api_button" class="fake_nav_button">
					Twitter
					<div class="hover_container ">
						<a href="javascript:twitterOAuth()" class="button no_twitter_show">Login</a>
						<a href="javascript:forgetTwitterAuth()" class="button have_twitter_show">Logout</a>
					</div>
				</div>
				<div id="foursquare_api_button" class="fake_nav_button">
					FourSquare
					<div class="hover_container ">
						<a href="javascript:fourOAuth()" class="button no_four_show">Login</a>
						<a href="javascript:forgetFourAuth()" class="button have_four_show">Logout</a>
					</div>
				</div>
			</div>
		</nav>
		<div id="notification_wrapper">

		</div>
		<div id="loading_overlay">
			
		</div>
		<div id="tab_container">
			<div id="discussion_tab">
				<div class="center_wrapper">
					<h1>Discussion search</h1>
					Tracking public discussions on specific topics (e.g. via hashtags or keywords): input keywords and/or hashtags. Outputs a list of messages containing the required keyword/hashtags. Its possible to limit the query to a specific geographic region.
					<form action="/" method="post" class="map_init">
						<table class="req_twitter_api">
							<tr>
								<td>
									Search:
									<div class="infoicon">
										<div class="popupinfo">
											<h2>Search</h2>
											Explanation about this item.
										</div>
									</div>
								</td>
								<td>
									<input type="text" name="search" placeholder="e.g. iPhone" />
								</td>
							</tr>
							<tr>
								<td>
									Live results:
									<div class="infoicon">
										<div class="popupinfo">
											<h2>Live results</h2>
											Explanation about this item.
										</div>
									</div>
								</td>
								<td>
									<div class="onoffswitch">
									    <input type="checkbox" name="liveresults" class="onoffswitch-checkbox" id="liveresults_discussion">
									    <label class="onoffswitch-label" for="liveresults_discussion">
									        <span class="onoffswitch-inner"></span>
									        <span class="onoffswitch-switch"></span>
									    </label>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<table>
										<tr>
											<td>
												Use location:
												<div class="infoicon">
													<div class="popupinfo">
														<h2>Live results</h2>
														Explanation about this item.
													</div>
												</div>
											</td>
											<td>
												<div class="onoffswitch">
												    <input type="checkbox" name="uselocation" class="onoffswitch-checkbox" id="uselocation_discussion">
												    <label class="onoffswitch-label" for="uselocation_discussion">
												        <span class="onoffswitch-inner"></span>
												        <span class="onoffswitch-switch"></span>
												    </label>
												</div>
											</td>
										</tr>
										
										<tr>
											<td>
												Location Radius (Metres, Optional):
												<div class="infoicon">
													<div class="popupinfo">
														<h2>Radius (Optional)</h2>
														Explanation about this item.
													</div>
												</div>
											</td>
											<td>
												<input type="text" class="radius" name="radius" placeholder="e.g. 1" value="1000" />
											</td>
										</tr>
									</table>
								</td>
								<td>
									<table>
										<tr>
											<td>
												Latitude (Optional):
												<div class="infoicon">
													<div class="popupinfo">
														<h2>Latitude (Optional)</h2>
														Explanation about this item.
													</div>
												</div>
											</td>
											<td>
												<input type="text" class="lat" name="lat" placeholder="e.g. 51.50722" value="53.381796" />
											</td>
										</tr>
										<tr>
											<td>
												Longetide (Optional):
												<div class="infoicon">
													<div class="popupinfo">
														<h2>Longetide (Optional)</h2>
														Explanation about this item.
													</div>
												</div>
											</td>
											<td>
												<input type="text" class="long" name="long" placeholder="e.g. -0.12750" value="-1.480719" />
											</td>
										</tr>
									</table>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<!--<iframe width="100%" height="150" frameborder="0" style="border:0" id="search-map-canvas"
	src="https://www.google.com/maps/embed/v1/place?q=sheffield&key=AIzaSyARRU-El139sH4_4DjiZIpCO4Z6qhCSTqw"></iframe>-->
									<input class="maps_input" type="text" name="location" placeholder="e.g. St. George's Church" />
									<div class="map_wrapper">
										<div class="search-map-canvas"></div>
									</div>
								</td>
							</tr>
							<tr>
								<td>
								</td>
								<td class="clearfix">
									<input class="right" type="submit" name="submit" value="Search" />
								</td>
							</tr>
						</table>
					</form>
					
					<hr>
					
					<h1>Tweets</h1>
					<span>Hit submit above to discover tweets</span>
				
					<table class="tweet_table">
						<tr>
							<td width="300px">
								<div class="profile_top clearfix">
									<img class="profile_image" src="https://pbs.twimg.com/profile_images/490139247945719809/GHt2iObY_400x400.jpeg" alt="James McIlveen" height="100" width="100">
									<div class="name_wrapper">
										<a href="http://www.twitter.com/jtmcilveen" class="screen_name">James McIlveen</a><br>
										<a href="http://www.twitter.com/jtmcilveen">@jtmcilveen</a><br><br>
									</div>
								</div>
								
								
								<span class="dark">Location</span> Whaley Bridge<br>
								<span class="dark">Website</span> <a href="http://www.jamesmcilveen.com">www.jamesmcilveen.com</a><br>
								<span class="dark">Joined</span> May 2011<br><br>
								
								<span class="dark">Rock climber (bouldering) and computer scientist doing my Masters at Sheffield University</span><br><br>
								<a href="javascript:void(0)" onclick="getUserAndTweets('none')">View user's profile and Tweets</a>
								
								
								
							</td>
							<td>
								<a href="http://www.twitter.com/jtmcilveen">@jtmcilveen</a> 13:41 6th May 2013<br>
								<div class="tweet">Anyone heard of the app <a href="http://www.twitter.com/Laser_Chambers">@Laser_Chambers</a>? It's a puzzle game coming soon to iPad/iPhone.etc Looks great! Check it out- <a href="http://jampinstudios.com/">http://jampinstudios.com/</a></div>
								0 Favourites, 0 Re-Tweets<br><br>
								
								<div class="map_wrapper">
									<iframe width="100%" height="150" frameborder="0" style="border:0"
src="https://www.google.com/maps/embed/v1/place?q=sheffield&key=AIzaSyARRU-El139sH4_4DjiZIpCO4Z6qhCSTqw"></iframe>
								</div><br><br>
								<center><a href="javascript:void(0)">See replies to tweet</a></center>
							</td>
						</tr>
					</table>
					
					<hr>
					
					<table class="tweet_table">
						<tr>
							<td width="300px">
								<div class="profile_top clearfix">
									<img class="profile_image" src="https://pbs.twimg.com/profile_images/490139247945719809/GHt2iObY_400x400.jpeg" alt="James McIlveen" height="100" width="100">
									<div class="name_wrapper">
										<a href="http://www.twitter.com/jtmcilveen" class="screen_name">James McIlveen</a><br>
										<a href="http://www.twitter.com/jtmcilveen">@jtmcilveen</a><br><br>
									</div>
								</div>
								
								
								<span class="dark">Location</span> Whaley Bridge<br>
								<span class="dark">Website</span> <a href="http://www.jamesmcilveen.com">www.jamesmcilveen.com</a><br>
								<span class="dark">Joined</span> May 2011<br><br>
								
								<span class="dark">Rock climber (bouldering) and computer scientist doing my Masters at Sheffield University</span><br><br>
								<a href="javascript:void(0)" onclick="getUserAndTweets('none')">View user's profile and Tweets</a>

								
								
							</td>
							<td>
								<a href="http://www.twitter.com/jtmcilveen">@jtmcilveen</a> 13:41 6th May 2013<br>
								<div class="tweet">Anyone heard of the app <a href="http://www.twitter.com/Laser_Chambers">@Laser_Chambers</a>? It's a puzzle game coming soon to iPad/iPhone.etc Looks great! Check it out- <a href="http://jampinstudios.com/">http://jampinstudios.com/</a></div>
								0 Favourites, 0 Re-Tweets<br><br>
								
								<div class="map_wrapper">
									<iframe width="100%" height="150" frameborder="0" style="border:0"
src="https://www.google.com/maps/embed/v1/place?q=sheffield&key=AIzaSyARRU-El139sH4_4DjiZIpCO4Z6qhCSTqw"></iframe>
								</div><br><br>
								<center><a href="javascript:void(0)">See replies to tweet</a></center>
								
								<h3>Replies</h3>
								<div class="white_container">
									<a href="http://www.twitter.com/jtmcilveen">@jtmcilveen</a> 13:41 6th May 2013 - <a href="javascript:void(0)" onclick="getUserAndTweets('none')">View user's profile and Tweets</a><br>
									<div class="tweet">Anyone heard of the app <a href="http://www.twitter.com/Laser_Chambers">@Laser_Chambers</a>? It's a puzzle game coming soon to iPad/iPhone.etc Looks great! Check it out- <a href="http://jampinstudios.com/">http://jampinstudios.com/</a></div>
								</div>
							</td>
						</tr>
					</table>
				</div>
			</div>
			<div id="user_dicussion_tab">
				<div class="center_wrapper">
					<h1>Specific user discussion search</h1>
					What specific users discuss about: the ids/screen_names of up to 10 users are provided in input and the most frequent Y keywords used in the last Z days must be displayed (with associated total count, as well as count for each users). Input: user ids, Y, Z – with Z >1
					<form action="/" method="post" class="map_init">
						<table class="req_twitter_api">
							<tr>
								<td>
									Screen Names/IDs:
									<div class="infoicon">
										<div class="popupinfo">
											<h2>Screen Names/IDs</h2>
											Explanation about this item.
										</div>
									</div>
								</td>
								<td>
									<input type="text" name="screenname" placeholder="e.g. jtmcilven, fabcira, stephenfry" />
								</td>
							</tr>
							<tr>
								<td>
									Number of Keywords:
									<div class="infoicon">
										<div class="popupinfo">
											<h2>Number of Keywords</h2>
											Explanation about this item.
										</div>
									</div>
								</td>
								<td>
									<input type="text" name="keywords" placeholder="e.g. 2" value="2" />
								</td>
							</tr>
							<tr>
								<td>
									Number of Days:
									<div class="infoicon">
										<div class="popupinfo">
											<h2>Number of Days</h2>
											Explanation about this item.
										</div>
									</div>
								</td>
								<td>
									<input type="text" name="days" placeholder="e.g. 5 - 0 or less enables live results" value="5" />
								</td>
							</tr>
							<tr>
								<td>
									Live results:
									<div class="infoicon">
										<div class="popupinfo">
											<h2>Live results</h2>
											Explanation about this item.
										</div>
									</div>
								</td>
								<td>
									<div class="onoffswitch">
									    <input type="checkbox" name="liveresults_people" class="onoffswitch-checkbox" id="liveresults_user_discussion">
									    <label class="onoffswitch-label" for="liveresults_user_discussion">
									        <span class="onoffswitch-inner"></span>
									        <span class="onoffswitch-switch"></span>
									    </label>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<table>
										<tr>
											<td>
												Use location:
												<div class="infoicon">
													<div class="popupinfo">
														<h2>Live results</h2>
														Explanation about this item.
													</div>
												</div>
											</td>
											<td>
												<div class="onoffswitch">
												    <input type="checkbox" name="uselocation" class="onoffswitch-checkbox" id="uselocation_user_discussion">
												    <label class="onoffswitch-label" for="uselocation_user_discussion">
												        <span class="onoffswitch-inner"></span>
												        <span class="onoffswitch-switch"></span>
												    </label>
												</div>
											</td>
										</tr>
										
										<tr>
											<td>
												Location Radius (Metres, Optional):
												<div class="infoicon">
													<div class="popupinfo">
														<h2>Radius (Optional)</h2>
														Explanation about this item.
													</div>
												</div>
											</td>
											<td>
												<input type="text" class="radius" name="radius" placeholder="e.g. 1" value="1000" />
											</td>
										</tr>
									</table>
								</td>
								<td>
									<table>
										<tr>
											<td>
												Latitude (Optional):
												<div class="infoicon">
													<div class="popupinfo">
														<h2>Latitude (Optional)</h2>
														Explanation about this item.
													</div>
												</div>
											</td>
											<td>
												<input type="text" class="lat" name="lat" placeholder="e.g. 51.50722" value="53.381796" />
											</td>
										</tr>
										<tr>
											<td>
												Longetide (Optional):
												<div class="infoicon">
													<div class="popupinfo">
														<h2>Longetide (Optional)</h2>
														Explanation about this item.
													</div>
												</div>
											</td>
											<td>
												<input type="text" class="long" name="long" placeholder="e.g. -0.12750" value="-1.480719" />
											</td>
										</tr>
									</table>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<!--<iframe width="100%" height="150" frameborder="0" style="border:0" id="search-map-canvas"
	src="https://www.google.com/maps/embed/v1/place?q=sheffield&key=AIzaSyARRU-El139sH4_4DjiZIpCO4Z6qhCSTqw"></iframe>-->
									<input class="maps_input" type="text" name="location" placeholder="e.g. St. George's Church" />
									<div class="map_wrapper">
										<div class="search-map-canvas"></div>
									</div>
								</td>
							</tr>
							<tr>
								<td>
								</td>
								<td class="clearfix">
									<input class="right" type="submit" name="submit" value="Search" />
								</td>
							</tr>
						</table>
					</form>
				
					<hr>
					<h1>Tweets</h1>
					<span>Hit submit above to discover tweets</span>

					<table class="tweet_results_table" cellspacing="0">
						<tr>
							<td>
							</td>
							<td>
								jtmcilveen<br>
								<a href="javascript:void(0)" onclick="getUserAndTweets('none')">View user's profile and Tweets</a>
							</td>
							<td>
								fabcira<br>
								<a href="javascript:void(0)" onclick="getUserAndTweets('none')">View user's profile and Tweets</a>
							</td>
							<td>
								stephenfry<br>
								<a href="javascript:void(0)" onclick="getUserAndTweets('none')">View user's profile and Tweets</a>
							</td>
							<td>
								Total<br>
							</td>
						</tr>
						<tr>
							<td>
								London
							</td>
							<td>
								5
							</td>
							<td>
								2
							</td>
							<td>
								6
							</td>
							<td>
								13
							</td>
						</tr>
						<tr>
							<td>
								Music
							</td>
							<td>
								3
							</td>
							<td>
								4
							</td>
							<td>
								1
							</td>
							<td>
								8
							</td>
						</tr>
					</table>
				</div>
			</div>
			<div id="user_venue_tab">
				<div class="center_wrapper">
					<h1>User venues search</h1>
					What points of interest (venues) a specific user has visited in the last X days (input: user id, plus X – value of X may be zero: in this case the streaming API must be used to capture information when it is published)
					<form action="/" method="post">
						<table class="req_twitter_api">
							<tr>
								<td>
									Screen Name/ID:
									<div class="infoicon">
										<div class="popupinfo">
											<h2>Screen Name/ID</h2>
											Explanation about this item.
										</div>
									</div>
								</td>
								<td>
									<input type="text" name="screenname" placeholder="e.g. jtmcilven, fabcira, stephenfry" />
								</td>
							</tr>
							<tr>
								<td>
									Number of Days:
									<div class="infoicon">
										<div class="popupinfo">
											<h2>Number of Days</h2>
											Explanation about this item.
										</div>
									</div>
								</td>
								<td>
									<input type="text" name="days" placeholder="e.g. 5 - 0 or less enables live results" value="5" />
								</td>
							</tr>
							<tr>
								<td>
									Live results:
									<div class="infoicon">
										<div class="popupinfo">
											<h2>Live results</h2>
											Explanation about this item.
										</div>
									</div>
								</td>
								<td>
									<div class="onoffswitch">
									    <input type="checkbox" name="liveresults_people" class="onoffswitch-checkbox" id="liveresults_user_venues">
									    <label class="onoffswitch-label" for="liveresults_user_venues">
									        <span class="onoffswitch-inner"></span>
									        <span class="onoffswitch-switch"></span>
									    </label>
									</div>
								</td>
							</tr>
							<tr>
								<td>
								</td>
								<td class="clearfix">
									<input class="right" type="submit" name="submit" value="Search" />
								</td>
							</tr>
						</table>
					</form>
				
					<hr>
					<h1>User venues</h1>
					Here are the venues for <a href="#">@jtmcilveen</a><br>
					<a href="javascript:void(0)" onclick="getUserAndTweets('none')">View user's profile and Tweets</a>

					<table class="tweet_results_table" cellspacing="0">
						<tr>
							<td>
								Venue
							</td>
							<td>
								Lat/Long
							</td>
							<td>
								Number of visits
							</td>
						</tr>
						<tr>
							<td>
								Sheffield
							</td>
							<td>
								53.371143,-1.392339
							</td>
							<td>
								1
							</td>
						</tr>
					</table>

					<hr>
					<h1>Location of Tweets</h1>
					<div class="white_container">
						<div class="map_wrapper">
							<iframe width="100%" height="350" frameborder="0" style="border:0"
	src="https://www.google.com/maps/embed/v1/place?q=sheffield&key=AIzaSyARRU-El139sH4_4DjiZIpCO4Z6qhCSTqw"></iframe>
						</div>
					</div>
				</div>
			</div>
			<div id="venue_tab">
				<div class="center_wrapper">
					<h1>Venue search</h1>
					Who is visiting venues in a specific geographic area (or visiting a named venue) or have done so in the last X days (input: name of location or coordinates, plus X – value of X may be zero: in this case the streaming API must be used to capture information when it is published).
					<form action="/" method="post" class="map_init">
						<table class="req_twitter_api">
							<tr>
								<td>
									Number of Days:
									<div class="infoicon">
										<div class="popupinfo">
											<h2>Number of Days</h2>
											Explanation about this item.
										</div>
									</div>
								</td>
								<td>
									<input type="text" name="days" placeholder="e.g. 5 - 0 or less enables live results" value="5" />
								</td>
							</tr>
							<tr>
								<td>
									Live results:
									<div class="infoicon">
										<div class="popupinfo">
											<h2>Live results</h2>
											Explanation about this item.
										</div>
									</div>
								</td>
								<td>
									<div class="onoffswitch">
									    <input type="checkbox" name="liveresults_people" class="onoffswitch-checkbox" id="liveresults_venue">
									    <label class="onoffswitch-label" for="liveresults_venue">
									        <span class="onoffswitch-inner"></span>
									        <span class="onoffswitch-switch"></span>
									    </label>
									</div>
								</td>
							</tr>
							<tr>
								<td>
									<table>
										<tr>
											<td>
												Location Radius (Metres, Optional):
												<div class="infoicon">
													<div class="popupinfo">
														<h2>Radius (Optional)</h2>
														Explanation about this item.
													</div>
												</div>
											</td>
											<td>
												<input type="text" class="radius" name="radius" placeholder="e.g. 1" value="1000" />
											</td>
										</tr>
									</table>
								</td>
								<td>
									<table>
										<tr>
											<td>
												Latitude (Optional):
												<div class="infoicon">
													<div class="popupinfo">
														<h2>Latitude (Optional)</h2>
														Explanation about this item.
													</div>
												</div>
											</td>
											<td>
												<input type="text" class="lat" name="lat" placeholder="e.g. 51.50722" value="53.381796" />
											</td>
										</tr>
										<tr>
											<td>
												Longetide (Optional):
												<div class="infoicon">
													<div class="popupinfo">
														<h2>Longetide (Optional)</h2>
														Explanation about this item.
													</div>
												</div>
											</td>
											<td>
												<input type="text" class="long" name="long" placeholder="e.g. -0.12750" value="-1.480719" />
											</td>
										</tr>
									</table>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<!--<iframe width="100%" height="150" frameborder="0" style="border:0" id="search-map-canvas"
	src="https://www.google.com/maps/embed/v1/place?q=sheffield&key=AIzaSyARRU-El139sH4_4DjiZIpCO4Z6qhCSTqw"></iframe>-->
									<input class="maps_input" type="text" name="location" placeholder="e.g. St. George's Church" />
									<div class="map_wrapper">
										<div class="search-map-canvas"></div>
									</div>
								</td>
							</tr>
							<tr>
								<td>
								</td>
								<td class="clearfix">
									<input class="right" type="submit" name="submit" value="Search" />
								</td>
							</tr>
						</table>
					</form>
					<hr>
					<h1>Users at venue</h1>
					<span>Here are the users that have been found in the search area</span>
					<table class="tweet_results_table" cellspacing="0">
						<tr>
							<td>
								Username
							</td>
							<td>
								Number of visits
							</td>
						</tr>
						<tr>
							<td>
								<a href="#">@jtmcilveen</a><br>
								<a href="javascript:void(0)" onclick="getUserAndTweets('none')">View user's profile and Tweets</a>
							</td>
							<td>
								1
							</td>
						</tr>
						<tr>
							<td>
								<a href="#">@jtmcilveen</a><br>
								<a href="javascript:void(0)" onclick="getUserAndTweets('none')">View user's profile and Tweets</a>
							</td>
							<td>
								1
							</td>
						</tr>
						<tr>
							<td>
								<a href="#">@jtmcilveen</a><br>
								<a href="javascript:void(0)" onclick="getUserAndTweets('none')">View user's profile and Tweets</a>
							</td>
							<td>
								1
							</td>
						</tr>
					</table>
					<hr>
					<h1>Location of Tweets</h1>
					<div class="white_container">
						<div class="map_wrapper">
							<iframe width="100%" height="350" frameborder="0" style="border:0"
	src="https://www.google.com/maps/embed/v1/place?q=sheffield&key=AIzaSyARRU-El139sH4_4DjiZIpCO4Z6qhCSTqw"></iframe>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="user_container" class="hide">
			<div class="center_wrapper">
				<h1><a href="javascript:void(0)" onclick="toggleUserShow()">Back</a> - <a href="#">@jtmcilveen</a>'s profile</h1>
				<hr>
			
				<table class="tweet_table">
					<tr>
						<td width="300px">
							<div class="profile_top clearfix">
								<img class="profile_image" src="https://pbs.twimg.com/profile_images/490139247945719809/GHt2iObY_400x400.jpeg" alt="James McIlveen" height="100" width="100">
								<div class="name_wrapper">
									<a href="http://www.twitter.com/jtmcilveen" class="screen_name">James McIlveen</a><br>
									<a href="http://www.twitter.com/jtmcilveen">@jtmcilveen</a><br><br>
								</div>
							</div>
						</td>
						<td>							
							<span class="dark">Location</span> Whaley Bridge<br>
							<span class="dark">Website</span> <a href="http://www.jamesmcilveen.com">www.jamesmcilveen.com</a><br>
							<span class="dark">Joined</span> May 2011<br><br>
							
							<span class="dark">Rock climber (bouldering) and computer scientist doing my Masters at Sheffield University</span>
								
						</td>
					</tr>
				</table>
				
				<hr>
				<h1>Tweets</h1>
				Below are the last 100 tweets for <a href="#">@jtmcilveen</a>
				
				<div class="white_container">
					<a href="http://www.twitter.com/jtmcilveen">@jtmcilveen</a> 13:41 6th May 2013<br>
					<div class="tweet">Anyone heard of the app <a href="http://www.twitter.com/Laser_Chambers">@Laser_Chambers</a>? It's a puzzle game coming soon to iPad/iPhone.etc Looks great! Check it out- <a href="http://jampinstudios.com/">http://jampinstudios.com/</a></div>
					0 Favourites, 0 Re-Tweets<br><br>
					
					<div class="map_wrapper">
						<iframe width="100%" height="150" frameborder="0" style="border:0"
src="https://www.google.com/maps/embed/v1/place?q=sheffield&key=AIzaSyARRU-El139sH4_4DjiZIpCO4Z6qhCSTqw"></iframe>
					</div><br><br>
					<center><a href="javascript:void(0)">See replies to tweet</a></center>
				</div>
			</div>
		</div>
		<div id="copyright">
			Copyright Group N+1 2015.
		</div>
	</body>
</html>
